Запрос возможностей

В связи с тем, что V4L2 покрывает широкий диапазон устройст - не все аспекты API одинаково
применимы ко всем типам устройств. Более того устройства устройства одного и того же типам
имеют различные возможности и эта спецификация допускает упущение нескольких общих и менее 
важных частей API.

ioctl VIDIOC_QUERYCAP(см. глава 8.48) Доступен для проверки совместимо ли устройство с данной 
спецификацией и доступны ли функции входа/выхода(см. глава 3) на данном устройстве.

Начиная с версии ядра 3.1 ioctl VIDIOC_QUERYCAP будет возвращать V4L2 API версию используемую
драйвером, которая в основном совпадает с версией ядра. Нет необходимости использовать ioctl 
VIDIOC_QUERYCAP для проверки поддержки конкретного ioctl. ядро v4L2 вернет ENOTTY если драйвер 
не поддерживает запрашиваемый ioctl. 

Другие возможности могут быть запрошены вызовом соответсвующего ioctl, к примеру ioctl 
VIDIOC_ENUMINPUT (см. глава 8.18) отвечает за предоставление информации о числе, типах и именах
видео конекторов на устройстве. Хотя абстракция является главной целью этого API, ioctl  
VIDIOC_QUERYCAP часто позволяет драйверам специфичных приложений надежно идендифицировать
драйвер.

Все драйверы  V4L2 должны поддерживать ioctl VIDIOC_QUERYCAP. И все приложения должны вызывать
этот ioctl сразу после открытия устройства.